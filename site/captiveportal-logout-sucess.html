<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bienvenu(e) sur le Portail Captif de Marcelin</title>
	<link rel="shortcut icon" href="captiveportal-favicon.ico" />

  <meta name="format-detection" content="telephone=no" />
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1" />
	
	<link rel="stylesheet" href="captiveportal-remodal.css">
	<link rel="stylesheet" href="captiveportal-remodal-default-theme.css">
	<link rel="stylesheet" href="captiveportal-sliderkit-core.css">
	<link rel="stylesheet" href="captiveportal-main.css">
</head>
<body class="logged">
	<!-- Internet Status Modal -->
	<div id="internetModal" class="net-modal">
		<div class="net-modal-content" id="modalContent">
			<p id="modalText"></p>
		</div>
	</div>

	<form id="logoutForm" method="POST" action="<?=$logouturl;?>" style="display:none;">
	<input name="logout_id" type="hidden" value="<?=$sessionid;?>" />
	<input name="zone" type="hidden" value="<?=$cpzone;?>" />
	<input name="logout" type="hidden" value="Logout" />
	</form>

	<div class="overlay">
		<div class="ynh-wrapper user">	
			<span class="user-container">
				<!-- <a><img style="border-radius: 20% !important;" src="captiveportal-logo.gif"></a> -->
				<h1 class="brand" style="display: inline !important;">I'm Marcelin</h1>
			</span>
		</div>

		<div id="apps" class="wrapper apps">
			<ul class="listing-apps">
				<li><a href="#modal1"><span class="first-letter"><img src="captiveportal-windows.png"></span><span class="name">Windows 10</span></a></li>
				<li><a href="#modal2"><span class="first-letter"><img src="captiveportal-certif.png"></span><span class="name">Certifications</span></a></li>
				<li><a href="#" target="blank"><span class="first-letter"><img src="captiveportal-teach.png"></span><span class="name">Gesteaching</span></a></li>
				<li><a href="#"><span class="first-letter"><img src="captiveportal-dashboard.png"></span><span class="name">Dashboard</span></a></li>
				<li><a href="#" target="blank"><span class="first-letter"><img src="captiveportal-parrainage.png"></span><span class="name">Parrainage</span></a></li>
				<li><a href="#" target="blank"><span class="first-letter"><img src="captiveportal-webmail.png"></span><span class="name">Messagerie</span></a></li>
				<li><a href="#" target="blank"><span class="first-letter"><img src="captiveportal-siteweb.png"></span><span class="name">Site web</span></a></li>
				<li><a href="#" target="blank"><span class="first-letter"><img src="captiveportal-eplacing.png"></span><span class="name">E-placing</span></a></li>
				<li><a href="#" target="blank"><span class="first-letter"><img src="captiveportal-evaens.jpg"></span><span class="name">Evaluation</span></a></li>
				<li><a href="#" target="blank"><span class="first-letter"><img src="captiveportal-kwiki.png"></span><span class="name">Bibliothèque</span></a></li>
				<li><a href="#modal11"><span class="first-letter"><img src="captiveportal-student.png"></span><span class="name">Infos</span></a></li>
			</ul>
		</div>

		<!-- Modal Structure -->
		<div data-remodal-id="modal1" class="remodal">
			<button data-remodal-action="close" class="remodal-close"></button>
			<div class="modal-content">
				<h5>Téléchargez gratuitement Windows 10 Education / Download free Windows 10 Education</h5>
				<p>Marcelin vous offre une licence Windows 10 Education. Comment l'acquerir ?</p>
				<br>
				<p style="text-align: left;"><b>1. Téléchargez ci-dessous une version de Windows</b></p>
				<div class="column">
					<a href="#" onclick="window.open(this.href); return false;">
						<img class="thumbnail" src="captiveportal-windows.png" alt="Nouveau !" border="1" align="center" width="82" height="82">
					</a>
					<p style="line-height:15px;">English x86</p>
				</div>
			
				<div class="column">
					<a href="#" onclick="window.open(this.href); return false;">
						<img class="thumbnail" src="captiveportal-windows.png" alt="Nouveau !" border="1" align="center" width="82" height="82">
					</a>
					<p></p>
					<p style="line-height:15px;">English x64</p>
				</div>
		
				<div class="column">
					<a href="#" onclick="window.open(this.href); return false;"> 
						<img class="thumbnail" src="captiveportal-windows.png" alt="Nouveau !" border="1" align="center" width="82" height="82">
					</a>
					<p style="line-height:15px;">Francais x86</p>
				</div>
		
				<div class="column">
					<a href="#" onclick="window.open(this.href); return false;"> 
						<img class="thumbnail" src="captiveportal-windows.png" alt="Nouveau !" border="1" align="center" width="82" height="82">
					</a>
					<p style="line-height:15px;">Francais x64</p>
				</div>
				<br>
				<p style="text-align: left;"><b>2. Téléchargez le manuel de procédure d'acquisition de votre licence</b></p>
				<div class="center-block">
					<a href="#" onclick="window.open(this.href); return false;">
						<img align="center" class="thumbnail" src="captiveportal-doc.jpg" alt="Manuel de procedure d'installation" border="1" width="80" height="80">
					</a>
				</div>
			</div>
			<br>
			<button data-remodal-action="cancel" class="remodal-cancel">Fermer</button>
		</div>

		<!-- Modal Structure -->
		<div data-remodal-id="modal2" class="remodal">
			<button data-remodal-action="close" class="remodal-close"></button>
			<div class="modal-content">
				<h5 class="panel-title" align="center"><b>Préparez vos certifications CISCO et LINUX / Prepair your CISCO AND LINUX CERTIFICATIONS</b></h5>
				<br>
				<h6 class="panel-title" align="center"><b>Choisissez votre cours / Choose your Course</b></h6>
				<div class="valign-wrapper">
					<div class="column2">
						<a href="#" onclick="window.open(this.href); return false;"> 
							<img class="thumbnail certif" src="captiveportal-cisco.png" border="1" align="center">
						</a>
						<h6>Cisco Course / Cours Cisco</h6>
					</div>							
					<div class="column2">
						<a href="#" onclick="window.open(this.href); return false;"> 
							<img class="thumbnail certif" src="captiveportal-linux.png" border="1" align="center">
						</a>
						<h6>Linux Course / Cours Linux</h6>
					</div>
				</div>
			</div>
			<br>
			<button data-remodal-action="cancel" class="remodal-cancel">Fermer</button>
		</div>

		<!-- Modal Structure -->
		<div data-remodal-id="modal11" class="remodal">
			<div class="modal-content">
				<h5 class="panel-title" align="center"><b>My student</b></h5>
				<br>
				<h6 class="panel-title" align="center"><b>Modifiez vos informations personnelles / Change your personal information</b></h6>
			</div>
			<br>
			<a href="#!" data-remodal-action="cancel" class="remodal-cancel">Non</a>
			<a class="remodal-confirm" href="#" target="blank">Oui</a>
		</div>

		<div class="news_flash">
			<h6>Flash Infos</h6>
			<div class="news">
				<div class="sliderkit newslider-minimal">
					<div class="sliderkit-panels">
						<div class="sliderkit-panel">
							<a href="#" title="Infos secours catholique">Le secours catholique organise les week-end du 7 au 10 decembre  <span>en cours ...</span></a>
						</div>
						<div class="sliderkit-panel">
							<a href="#" title="Infos secours catholique">La ville de Chatou conquiert le Nymphée de Soufflot  <span>en cours ...</span></a>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
			</div>
		</div>
		<div class="container" id=menu>
				<div class="panel-heading">
					<!-- Logout button -->
					<button id="logoutBtn" class="btn" type="button"><img src="captiveportal-logout.png" width="50" height="50" title="Se déconnecter"></button>
				</div>
		</div>

  	</div>

	<!-- Scripts -->
	<script type="text/javascript" src="captiveportal-jquery.min.js"></script>
    <script type="text/javascript" src="captiveportal-jquery.sliderkit.1.9.2.js"></script>
	<script src="captiveportal-remodal.min.js"></script>
    <script src="captiveportal-global.js"></script>
	<script type="text/javascript">

		$(document).ready(function(){

			$('a').click(function () {
				$(this).blur(); // or $(this).blur();
			});
			
			$(".newslider-minimal").sliderkit({
				auto:true,
				circular:true,
				shownavitems:1,
				panelfx:"sliding",
				panelfxspeed:400,
				panelfxeasing:"easeOutCirc",
				mousewheel:false,
				verticalnav:true,
				verticalslide:true
			});
			$(".lien").mouseenter(function(){
				/*$(this).stop().animate({left:'-10%'},500,'easeInCirc');*/
			})
			.mouseleave(function(){
				
			});
		});
	</script>

	<script>
		document.getElementById('logoutBtn').addEventListener('click', function(){
		document.getElementById('logoutForm').submit();
		});
	</script>

	<script>
		let lastStatus = null;
		let modalTimer = null;

		function showModal(message, isOnline) {
			const modal = document.getElementById("internetModal");
			const text = document.getElementById("modalText");

			// Clear previous timer
			if (modalTimer) {
				clearTimeout(modalTimer);
			}

			text.innerHTML = message;
			text.style.color = isOnline ? "green" : "red";
			modal.style.display = "block";

			// Auto close after 2 seconds
			modalTimer = setTimeout(() => {
				modal.style.display = "none";
			}, 2000);
		}

		function closeModal() {
			document.getElementById("internetModal").style.display = "none";
		}

		function checkInternetConnection() {
			fetch("https://www.google.com/favicon.ico", {
				method: "HEAD",
				mode: "no-cors",
				cache: "no-store"
			})
			.then(() => {
				if (lastStatus !== true) {
					showModal("✅ Internet connection is available", true);
					lastStatus = true;
				}
			})
			.catch(() => {
				if (lastStatus !== false) {
					showModal("❌ No Internet connection detected", false);
					lastStatus = false;
				}
			});
		}

		// Initial check
		checkInternetConnection();

		// Recheck every 1 second
		setInterval(checkInternetConnection, 1000);
	</script>


</body>
</html>

